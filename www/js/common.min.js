// @codekit-append "catalog/catalog.js"
// @codekit-append "header/__in/__right/order-list/order-list.js"
// @codekit-append "signin-form/signin-form.js"
// @codekit-append "fancybox/fancybox.js"
// @codekit-append "best-offers/best-offers.js"
// @codekit-append "entry/entry.js"
// @codekit-append "open-filter/open-filter.js"
// @codekit-append "is-radio/is-radio.js"
// @codekit-append "is-checkbox/is-checkbox.js"
// @codekit-append "baners/baners.js"
// @codekit-append "eventslider/item/item.js"
// @codekit-append "house/house.js"
// @codekit-append "map/map.js"

	$(window).scroll(function () {
		t = $(this).scrollTop();
		b = $('body');
		if (t > 100) {
			b.addClass('is-nottop');
		} else {
			b.removeClass('is-nottop');
		}
	});


$(document).ready(function() {

	$('.search__switcher a').click(function () {
		$('.search__switcher a').removeClass('is-active');
		$(this).addClass('is-active');
		return false;
	});

	$('.superslider__playpause').click(function () {
		$('.superslider').cycle('stop');
	});
});

/*расширяемый блок*/
$('.expander').click(function () {
	$(this).closest('.expandable__in').toggleClass('expanded').find('.expandable').slideToggle();
});
/*/расширяемый блок*/

/*блок на всю высоту вьюпорта*/
$(document).ready(function ($) {
$(window).resize(function () {
	$('.top').height($(window).height());
});
$('.top').height($(window).height());
});
/*/блок на всю высоту вьюпорта*/

//---

/*Развёртывание и свёртывание блоков*/
$('.action_show').click(function(e){
	$('.choosed_list_content').slideDown();
	e.preventDefault();
});
$('.action_collapse').click(function(e){
	$('.choosed_list_content').slideUp();
	e.preventDefault();
});
$('.about_project_content .toggle_link').click(function(e){
	$('.about_project_content .hided_content').slideToggle();
	$(this).toggleClass('arrow_rotate').children('span').toggle();
	e.preventDefault();
});
$('.appeal_content .toggle_link').click(function(e){
	$(this).parent('.appeal_content').hide();
	$('.appeal_hiden_content').slideDown();
	e.preventDefault();
});
$('.appeal_hiden_content .toggle_link').click(function(e){
	$(this).parent('.appeal_hiden_content').slideUp();
	$('.appeal_content').show();
	e.preventDefault();
});
/*/Развёртывание и свёртывание блоков*/

/*Автоматическое выравнивание высоты колонок (float блоков)*/
function setEqualHeight(columns)
{
	var tallestcolumn = 0;
	columns.each(
		function()
		{
			currentHeight = $(this).height();
			if(currentHeight > tallestcolumn)
			{
				tallestcolumn = currentHeight;
			}
		}
	);
	columns.height(tallestcolumn);
}
$(document).ready(function() {
	setEqualHeight($('.contacts__branches.branches > .contacts__border-block'));
});
$(document).ready(function() {
	setEqualHeight($('.contacts__branches.distributors > .contacts__border-block'));
});
/*/Автоматическое выравнивание высоты колонок (float блоков)*/


/* **********************************************
     Begin catalog.js
********************************************** */

$(document).ready(function () {
	$('.wine .wine__check__area').on('click', function() {

		// Выделение элемента в каталоге при нажатии
		/*$(this).parents('.wine').toggleClass('is-selected');*/ //Алексей попросил закомментить

		// Появление списка при выборе хотя бы одного вина
		if ($('.wine').hasClass('is-selected')) {
			$('.choosed_list_container').fadeIn(400);
			$('.choosed_list_container').addClass('show');
		}
		else {
			$('.choosed_list_container').fadeOut('400');
			$('.choosed_list_container').removeClass('show');
		}
	});

	// Выпадающее полное описание вина в горизонтальном каталоге
	/*$('.wine__info, .wine__pic, .wine__text').on('click', function () {
		$(this).siblings('.wine__full__info').slideToggle(400);
	});*/ //Алексей попросил закомментить

	// Увеличение блока в плиточном каталоге
	/*$('.wine__square .wine__info').on('click', function () {
		$(this).parents('.wine').toggleClass('wine__square__big');
	});*/ //Алексей попросил закомментить


	// Появление полей при нажатии на элементы КП
	$('.radios_section .radio, .radios_section label').on('click', function() {
		if ($(this).prop('checked') === true) {
			$(this).parents('.radios_section_row').after('<div class="radios_section_field field clearfix special_conditions_text">
				<input type="text" value="" class="text_field">
				</div>');
		} else {
			$(this).parents('.radios_section_row').next('.field').remove();
		}

		$('.radios_section_field .text_field').bind('hastext', function() {
			$(this).addClass('is-focus');
		});

		$('.radios_section_field .text_field').bind('notext', function() {
			$(this).removeClass('is-focus');
		});

	});





});





/* **********************************************
     Begin order-list.js
********************************************** */

$(document).ready(function() {
  // Выпадающий список покупок
  $('div.order-list').on('click', function () {
    $('.choosed_list_container').fadeToggle('400');
  });
});

/* **********************************************
     Begin signin-form.js
********************************************** */

// Открыть форму входа
$('.login').click(function(){
	$('.signin-form').removeClass('hidden').addClass('as-table');
	$('.blur').addClass('blur_-popup-launched');
//	$('.popup__content').addClass('hidden');
	$('.popup').fadeIn(1000);
});
/// Открыть форму входа

// Закрыть форму входа
$('.signin-form__btn-close').click(function(){
	$('.signin-form').addClass('hidden').removeClass('as-table');
	$('.blur').removeClass('blur_-popup-launched');
//	$('.popup__content').removeClass('hidden');
	$('.popup').fadeOut(1000);
});
/// Закрыть форму входа

/* **********************************************
     Begin fancybox.js
********************************************** */

/* Adaptive Modal */
$('.fancybox').fancybox({
	padding: 0,
	helpers: {
		overlay: {
			locked: false
		}
	}
});
/*/ Adaptive Modal */

/* **********************************************
     Begin best-offers.js
********************************************** */

$(document).ready(function() {
  $('.best-offers__wrap__more').on('click', function() {
    $(this).toggleClass('is-active');
    $('.best-offers__wrap__in').slideToggle(400);
  });
});

/* **********************************************
     Begin entry.js
********************************************** */

$(document).ready(function() {
  $('.entry').on('click', function() {
    $(this).toggleClass('is-large');
  });
});

/* **********************************************
     Begin open-filter.js
********************************************** */


$(document).ready(function() {

  // Появление и исчезание блока с фильтром при нажатии на кнопку "поиск вина"
  $('.open-filter__link').on('click', function() {
    $(this).fadeOut('400');
    $('.superslider').addClass('is-filter');
    $('.top .search').fadeIn(400);

    $('.search__close').on('click', function() {
      $('.open-filter__link').fadeIn(400);
      $('.superslider').removeClass('is-filter');
      $('.top .search').fadeOut('fast');
    });
  });
});

/* **********************************************
     Begin is-radio.js
********************************************** */

$(document).ready(function() {
  $('.is-radio').on('click', function() {
    $(this).parents('ul').find('.is-active').removeClass('is-active');
    $(this).toggleClass('is-active');
  });
});

/* **********************************************
     Begin is-checkbox.js
********************************************** */

$(document).ready(function() {
  $('.is-checkbox').on('click', function() {
    $(this).toggleClass('is-active');
  });
});

/* **********************************************
     Begin baners.js
********************************************** */


$(document).ready(function() {
  $('.baners_baner').on('click', function() {
    $(this).toggleClass('is-large');
    $(this).toggleClass('gradiente_block');
  });
});

/* **********************************************
     Begin item.js
********************************************** */

$(document).ready(function() {
  $(".fancybox").fancybox({
    closeBtn  : false,
    width : 560,
    helpers : {
      overlay : {
        css : {
          'background' : 'rgba(255, 255, 255, .9)'
        }
      }
    }
  }); // fancybox
  $('.item__full').on('click', function() {
     $.fancybox.close();
  });
});

/* **********************************************
     Begin house.js
********************************************** */

$(document).ready(function() {
  $(".fancybox-button").fancybox({
    prevEffect    : 'none',
    nextEffect    : 'none',
    closeBtn    : false,
    padding: 0,
    helpers   : {
     overlay: {
       locked: false
     },
     title : { type : 'inside' },
     buttons : {}
   }
 });

// Плавная прокрутка при клике на вине


$("a.house__slider__bottles__link").click(function () {
  var elementClick = $(this).attr("href");
  var destination = $(elementClick).offset().top - 70;
  jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop: destination}, 800);
  return false;
});



});

/* **********************************************
     Begin map.js
********************************************** */

// Настройки hover интерактивной карты

$(function () {
    $('.mapHiLight').maphilight({
        strokeColor: 'f5dfb5', 
        fillColor: 'f29500', 
        fillOpacity: 1 
    });
});

// Плавная прокрутка при клике на ссылку

$(document).ready(function() {

    $("#piter").click(function () {
        // var elementClick = $(this).attr("href");
        var destination = $('.contacts__adress').offset().top - 100;
        jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop: destination}, 800);
        return false;
    });

    $(".map area").click(function () {
        // var elementClick = $(this).attr("href");
        var destination = $('#filial').offset().top - 100;
        jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop: destination}, 800);
        return false;
    });

    if ($(".map").length) {
        $('.top').css('min-height', '950px');
    }
});